% !TeX root = ./main.tex
\documentclass[12pt,MSc,twoside]{muthesis}

\usepackage{import}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{subfig}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{listings}

\pgfplotsset{compat=1.5.1}

\usetikzlibrary{arrows,decorations.markings}
\tikzstyle{arrow} = [thick,->,>=stealth]

\def \oomph {\texttt{oomph-lib} }

% Define the differential d notation
\def \d{\mathrm{d}}

% Required for loading data into tables
\usepackage{csvsimple}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

% Code style
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\lstset{language=C++}
\lstset{frame=bt,
  language=C++,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily\linespread{0.7}},
  numbers=left,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=false,
  tabsize=4,
  captionpos=b,
  keepspaces=true,
  showspaces=false,
  showtabs=false
}


\ifdefined\only
	\includeonly{fem}
\fi

\begin{document}

\ifdefined\nopreamble
\else
	\include{preamble} 
\fi

\include{introduction}
\include{problem}
\include{fem}
\include{multigrid}
\include{results}
\include{conclusion}

\bibliography{bibliography}
\bibliographystyle{plain}

\ifdefined\nopreamble
\else
  \appendix
  \chapter{Code listings}

  This code has been adapted from existing sources within the \oomph codebase.
  For a complete directory of code, consult the \oomph repository at the website \cite{oomph}.
  The changes included here are those necessary for this project.

  \section{Driver code}
  \lstinputlisting[language=C++,caption=Filename: main.cc. Driver code containing main entry point to the program.]{../oomph/user_drivers/billy/main.cc}

  \clearpage
  \section{Element code}
  \lstinputlisting[language=C++,caption=Filename: refineable\_pml\_helmholtz\_elements.cc. Element code for the refineable version of the Fourier decomposed Helmholtz equation.]{../oomph/user_drivers/billy/SourceFiles/refineable_pml_helmholtz_elements.cc}
\fi
\end{document}
